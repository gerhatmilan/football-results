@page "/leagues"
@inherits LeaguesBase

<PageTitle>Leagues</PageTitle>

@if (CountriesWithLeagues != null)
{
    @foreach (Country country in CountriesWithLeagues.OrderBy(c => c.CountryID))
    {
        <CountryCard Country="country" />
        @foreach (League league in (User != null ? LeagueService.GetLeaguesFavoritesFirst(User, country.Leagues) : country.Leagues.OrderBy(l => l.Name)))
        {
            <LeagueCard League="league" />
        }
    }
}
else
{
    <LoadingSpinner />
}