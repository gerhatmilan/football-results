@inherits MatchFilterBase
@using FootballResults.WebApp.Components.Pages

@if (FilterTarget != null)
{
    <div class="filterSection">
        <div class="input-group mb-3">
            <input type="number" class="form-control" placeholder="Year" @bind="FilterParameters!.YearFilter" @bind:after="FilterMatchesAsync" />
            <input type="number" class="form-control" placeholder="Month" min="1" max="12" @bind="FilterParameters!.MonthFilter" @bind:after="FilterMatchesAsync" />
            <input type="number" class="form-control" placeholder="Day" min="1" max="31" @bind="FilterParameters!.DayFilter" @bind:after="FilterMatchesAsync"  />
        </div>

        @if (FilterTarget.GetType() == typeof(TeamDetails))
        {
            <div class="input-group mb-3">
                <select title="Home or away only selector" class="form-select" @bind="FilterParameters!.HomeAwayFilter" @bind:after="FilterMatchesAsync">
                    <option selected value="All">Home and Away</option>
                    <option value="Home">Home</option>
                    <option value="Away">Away</option>
                </select>
            </div>
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Opponent" @bind="OpponentName" @bind:after="FilterMatchesAsync" />
            </div>
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Competition" @bind="FilterParameters!.LeagueFilter" @bind:after="FilterMatchesAsync" />
            </div>
        }
        else if (FilterTarget.GetType() == typeof(LeagueDetails))
        {
            /*...*/
        }

        <div class="input-group mb-3">
            <input type="number" class="form-control" placeholder="Season" @bind="FilterParameters!.SeasonFilter" @bind:after="FilterMatchesAsync" />
        </div>
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Round" @bind="FilterParameters!.RoundFilter" @bind:after="FilterMatchesAsync" />
        </div>
        <div class="input-group mb-3">
            <button type="button" class="btn btn-outline-secondary" @onclick="SortByDateAscending">Earliest first</button>
        </div>
        <div class="input-group mb-3">
            <button type="button" class="btn btn-outline-secondary" @onclick="SortByDateDescending">Latest first</button>
        </div>
    </div>
}